" 그 놈의 REST API, Restful API 너 정체가 뭐냐?

*최근 경력 기술 면접에서 해당 질문이 나왔다고 한다. 한 번 정리해야겠지?*

# 👀 API (Application Programming Interface)

REST를 알아보기전에 개발자들이 소통 시 많이 표현하는 API에 대해 간단하게 알아보자.

❓ API 제공해주면 돼~, API 문서 있어? 해당 API 확인해봐 ❓ 



> 연결해준다.  메뉴판 개념
> 프로그램과 프로그램이 **소통+연결**하는 방법(협약) 역할(특정 서비스에서 개발한 기능, 메뉴판)



**API를 정의한다면 “클라이언트”와 “리소스(정보, 서버)” 사이의 “게이트웨이”입니다.**

개발자는 다른 애플리케이션이 프로그래밍 방식으로 애플리케이션을 통신할 수 있도록 API를 표시하거나 생성합니다. 

### 📌 클라이언트

클라이언트는 리소스에 접근 또는 사용하려는 사용자입니다.

클라이언트는 API를 사용하는 실제 사람일 수도 있고, 소프트웨어 시스템일 수 있습니다.

예를들어 현재 날씨를 제공하는 API(웹 페이지, API서버 등)이 있다면 클라이언트는 해당 API를 방문(호출)하여 동일한 리소스에 접근 혹은 사용할 수 있습니다. 

### 📌 리소스(정보)

리소스는 애플리케이션이 클라이언트에게 제공하는 정보입니다.

리소스의 형태는 이미지, 텍스트, 숫자 등 어떠한 데이터일 수 있습니다.

클라이언트에 리소스만을 제공하는 시스템을 서버라고도 합니다. (웹 페이지, API 서버)

### 📌 게이트웨이(API)

클라이언트와 리소스 사이의 게이트웨이를 API라고 표현했습니다.

클라이언트와 리소스를 제공하는 서버 사이에 통신을 하기위한 관문같은 역할을 합니다.

두 애플리케이션 간 서로 통신하는 방법을 정의하고, API 문서에는 통신을 위한 요청과 응답을 구성하는 방법에 대한 정보가 들어있습니다.







> 정리하면 API를 통하여 서로 다른 애플리케이션 간 연결하여 통신을 진행할 수 있다는 것이다.
> API는 SOAP API, RPC API, Websocket API, REST API 방식으로 작동할 수 있다.



- 그래서 API 서버가 뭐야? → 
- API 개발자는 뭘 한다는 거야? → 
- 그래서 API가 뭔데?!! → 



# 👀 Rest (Representational State Transfer)

Representational - 구상적인 ↔️ 추상적인

State - 상태

Transfer - 전송



Rest는 API 작동 방식에 대한 조건을 부과하는 소프트웨어 아키텍처입니다.

API 개발자는 여러 아키텍처를 사용하여 API를 설계할 수 있는데, REST 아키텍쳐 스타일을 따르는 API를 REST API라고 합니다.

일반적으로 Rest API와 Restful API는 같은 의미로 사용됩니다.



> 같은 기술스택(자바, 스프링)을 사용하더라도 개발자마다 코드 컨벤션, 스타일, 선호하는 아키텍쳐(MVC, MVVM) 등 각자의 개성이 있다고 생각한다.
> 공동의 작업에서 아키텍쳐 또는 컨벤션은 꽤나 중요한 룰이고, 각자의 개성으로 작성되고 있는 API들을 REST라는 이름 아래에서 API 설계 및 개발 시 표준화를 진행하였고, REST 아키텍쳐를 준수한 API는 정해진 룰에 따라 불필요한 소통 없이 API를 파악하고 활용할 수 있다는 것이라 생각한다.   
> 일종의 API를 개발하는 입장에서의 프레임워크, 컨벤션 룰 중에 하나라고 이해했다.



## **💡 그렇다면 REST 아키텍쳐의 스타일 원칙은 무엇일까?**

### 

1. 균일한 인터페이스
2. 클라이언트 - 서버 독립성
3. 무상태
4. 계층화 시스템
5. 캐시 가능성
6. 온디맨드 코드(선택 사항)



**📌 균일한 인터페이스**

어떤 클라이언트가 요청을 하든 동일한 리소스에 대한 모든 API 요청은 동일하게 동작해야 합니다.



**📌 클라이언트 - 서버 독립성**

클라이언트와 서버는 별개의 애플리케이션으로 서로 간에 완전히 독립적입니다.

클라이언트는 원하는 리소스를 위해 알고있는 정보는 URI(API 스펙)뿐이고 이 외의 방법으로는 서버와 상호 작용할 수 없습니다.

마찬가지로 서버는 HTTP를 통해 요청된 데이터를 전달하는 것 말고는 클라이언트 측에 영향력을 행사할 수 없습니다.



**📌 무상태**

무상태는 서버가 이전의 모든 요청과 독립적으로 클라이언트의 요청을 완료하는 통신 방법입니다.

서버 측에서 세션(예 : 로그인)을 컨트롤하거나, 작업을 위한 상태 정보를 저장하지 않고 요청만 단순하게 처리하면 됩니다.



📌 **계층화 시스템**

클라이언트는 클라이언트와 서버 사이의 다른 승인된 중개자에게 연결할 수 있으며 여전히 서버로부터도 응답을 받습니다. 서버는 요청을 다른 서버로 전달할 수도 있습니다. 

클라이언트 요청을 이행하기 위해 함께 작동하는 보안, 애플리케이션 및 비즈니스 로직과 같은 여러 계층으로 여러 서버에서 실행되도록 RESTful 웹 서비스를 설계할 수 있습니다. 

이러한 계층은 클라이언트에 보이지 않는 상태로 유지됩니다. (캡슐화가 아닐까?)



**📌 캐시 가능성**

가능하면 리소스를 클라이언트 또는 서버측에서 캐싱할 수 있어야 합니다.

또한 서버 응답에는 전달된 리소스에 대해 캐싱이 허용되는지 여부에 대한 정보도 포함되어야 합니다. 

이의 목적은 서버측의 확장성 증가와 함께 클라이언트측의 성능 향상을 동시에 얻는 것입니다.

HTTP 헤더 Last-modified, e-tag 활용하여 구현 가능

```
/image/shmoon1 -> 이미지 가져와서 응답 
/image/shmoon1 -> Last-modified 변경이 있으면 이미지 다시 가져와서 응답
```



📌 **온디맨드 코드(선택 사항)**

REST API는 일반적으로 정적 리소스를 전송하지만, 특정한 경우에는 응답에 실행 코드(예: Java 애플릿)를 포함할 수도 있습니다. 이 경우에 코드는 요청 시에만 실행되어야 합니다.



- 그래서 REST가 뭐야? → 



## 참고 사이트

[https://aws.amazon.com/ko/what-is/restful-api/](https://aws.amazon.com/ko/what-is/restful-api/)

[https://www.ibm.com/kr-ko/topics/rest-apis](https://www.ibm.com/kr-ko/topics/rest-apis)

